/*!
 * Tiny Accessibility Checker Plugin
 *
 * Copyright 2010-2021 Tiny Technologies, Inc. All rights reserved.
 *
 * Version: 2.3.2-131
 */
!function(){"use strict";function h(e){var t=e;return{get:function(){return t},set:function(e){t=e}}}function i(){}function g(e){return function(){return e}}function e(e){return e}var u=g(!1),y=g(!0),t=function(){return a},a={fold:function(e,t){return e()},is:u,isSome:u,isNone:y,getOr:o,getOrThunk:r,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:g(null),getOrUndefined:g(void 0),or:o,orThunk:r,map:t,each:i,bind:t,exists:u,forall:y,filter:t,equals:n,equals_:n,toArray:function(){return[]},toString:g("none()")};function n(e){return e.isNone()}function r(e){return e()}function o(e){return e}function c(e){return parseInt(e,10)}function l(e,t){return 0==(t=e-t)?0:0<t?1:-1}function s(e,t,n){return{major:e,minor:t,patch:n}}function f(e){return(e=/([0-9]+)\.([0-9]+)\.([0-9]+)(?:(\-.+)?)/.exec(e))?s(c(e[1]),c(e[2]),c(e[3])):s(0,0,0)}function d(e,t){return!!e&&-1===function(e,t){var n=l(e.major,t.major);if(0!==n)return n;n=l(e.minor,t.minor);if(0!==n)return n;t=l(e.patch,t.patch);return 0!==t?t:0}(f([(e=e=e).majorVersion,e.minorVersion].join(".").split(".").slice(0,3).join(".")),f(t))}function p(e){return!(null==e)}function v(e,t){return e=e,t=t,-1<U.call(e,t)}function b(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}function w(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}}function x(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n}function m(e,t,n){return w(e,function(e){n=t(n,e)}),n}function k(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return M.some(i);if(n(i,r))break}return M.none()}function D(e,t){return k(e,t,u)}function T(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!E(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);F.apply(t,e[n])}return t}function A(e,t){return T(b(e,t))}function I(e){return(e=B.call(e,0)).reverse(),e}function C(e,t){if(1!==(e=e.dom).nodeType)return!1;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}function _(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount}function N(e,t){return t=void 0===t?document:t.dom,_(t)?M.none():M.from(t.querySelector(e)).map(Q.fromDom)}function R(e,t){return e===t?0:(e=n=e,n=t=t,t=Node.DOCUMENT_POSITION_PRECEDING,0!=(e.compareDocumentPosition(n)&t)?1:-1);var n}var S,O=function(n){function e(){return o}function t(e){return e(n)}var r=g(n),o={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:y,isNone:u,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:e,orThunk:e,map:function(e){return O(e(n))},each:function(e){e(n)},bind:t,exists:t,forall:t,filter:function(e){return e(n)?o:a},toArray:function(){return[n]},toString:function(){return"some("+n+")"},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(u,function(e){return t(n,e)})}};return o},M={some:O,none:t,from:function(e){return null==e?a:O(e)}},H=function(n){return function(e){return e=typeof(t=e),(null===t?"null":"object"==e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"==e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e)===n;var t}},W=function(t){return function(e){return typeof e===t}},q=H("string"),E=H("array"),P=W("boolean"),V=(S=void 0,function(e){return S===e}),G=W("function"),L=W("number"),B=Array.prototype.slice,U=Array.prototype.indexOf,F=Array.prototype.push,j=g("html4"),z=g("html5"),K=g("a"),Y=g("aa"),$=g("aaa"),J=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},Q={fromHtml:function(e,t){t=(t||document).createElement("div");if(t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return J(t.childNodes[0])},fromTag:function(e,t){e=(t||document).createElement(e);return J(e)},fromText:function(e,t){e=(t||document).createTextNode(e);return J(e)},fromDom:J,fromPoint:function(e,t,n){return M.from(e.dom.elementFromPoint(t,n)).map(J)}},X=function(e,t){for(var n,r=[],o=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}}(t.rules,function(e){return e.walkable}),i=V(t.ignoreSelectors)?[]:t.ignoreSelectors,a=o.pass,o=o.fail,u=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null,!1);u.nextNode();){(function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1})(i,function(e){return C(Q.fromDom(u.currentNode),e)})||(n=function(t,e,n){return A(e,function(e){return"I1"===e.id?e.check(t,n)?[{rule:e,element:t}]:[]:e.check(t)?[{rule:e,element:t}]:[]})}(u.currentNode,a,t.allowDecorativeImages),r=r.concat(n))}var c,o=(c=e,A(o,function(t){return b(t.check(c),function(e){return{rule:t,element:e}})}));return(r=r.concat(o)).sort(function(e,t){return R(e.element,t.element)}),r},Z=function(){return(Z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function ee(e){return 0<e.length}function te(e,t){return e.dom===t.dom}function ne(e,t){return function(e,t){for(var n=null!=t?t:xe,r=0;r<e.length&&null!=n;++r)n=n[e[r]];return n}(e.split("."),t)}function re(e){return function(e,t){t=ke(e,t);if(null==t)throw new Error(e+" not available on this browser");return t}("HTMLElement",e)}function oe(e){return t=e.dom,e=ne("ownerDocument.defaultView",t),re(e).prototype.isPrototypeOf(t);var t}function ie(t){return function(e){return Te(e)&&e.dom.nodeName.toLowerCase()===t}}function ae(e){return Q.fromDom(e.dom.ownerDocument)}function ue(e){return M.from(e.dom.parentNode).map(Q.fromDom)}function ce(e){return M.from(e.dom.previousSibling).map(Q.fromDom)}function le(e){return I(function(e,t){for(var n=[],r=function(e){return n.push(e),t(e)},o=t(e);(o=o.bind(r)).isSome(););return n}(e,ce))}function se(e){return b(e.dom.childNodes,Q.fromDom)}function fe(e){return function(e,t){e=e.dom.childNodes;return M.from(e[t]).map(Q.fromDom)}(e,0)}function de(e){return e=_e(e),Ce(e)?M.some(e):M.none()}function pe(e){return Q.fromDom(e.dom.host)}function me(e){if(null==(e=e.dom.body))throw new Error("Body is not available yet");return Q.fromDom(e)}function he(e,t){return D(e.dom.childNodes,function(e){return t(Q.fromDom(e))}).map(Q.fromDom)}function ye(e){return N(e)}function ve(e,t,n){return function(e,t,n){for(var r=e.dom,o=G(n)?n:u;r.parentNode;){r=r.parentNode;var i=Q.fromDom(r);if(t(i))return M.some(i);if(o(i))break}return M.none()}(e,function(e){return C(e,t)},n)}function ge(e,t){return he(e,function(e){return C(e,t)})}function be(e,t){return N(t,e)}function we(e,t){return e.matches?e.matches(t):e.webkitMatchesSelector?e.webkitMatchesSelector(t):e.mozMatchesSelector?e.mozMatchesSelector(t):!!e.msMatchesSelector&&e.msMatchesSelector(t)}var xe="undefined"!=typeof window?window:Function("return this;")(),ke=ne,De=function(t){return function(e){return e.dom.nodeType===t}},Te=De(1),Ae=De(3),Ie=De(9),Ce=De(11),_e=G(Element.prototype.attachShadow)&&G(Node.prototype.getRootNode)?function(e){return Q.fromDom(e.dom.getRootNode())}:function(e){return Ie(e)?e:ae(e)},Ne=function(e){var t=Ae(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;var n,r,o=t.ownerDocument;return de(Q.fromDom(t)).fold(function(){return o.body.contains(t)},(n=Ne,r=pe,function(e){return n(r(e))}))},Re=g("error"),Se=g("warning");function Oe(e){return tn.get(e)}function Me(e){return nn(e).isSome()}function He(e){return Ae(e)&&(e=Oe(e).replace(/[\u200B-\u200D\uFEFF]/g,""),!ee(e))}function We(e,t){return ve(e,rn,function(e){return te(e,t)}).isSome()}function qe(e,t){return n=function(e){return C(e,t)},x(se(e),n);var n}function Ee(e,t){return function(e,t){t=void 0===t?document:t.dom;return _(t)?[]:b(t.querySelectorAll(e),Q.fromDom)}(t,e)}function Pe(e,t){var n=e.nodeName;return null!==(t=function(e,t){for(var n=e.nextSibling;null!==n&&(t&&"#text"===n.nodeName||"BR"===n.nodeName);)n=n.nextSibling;return n}(e,t))&&t.nodeName===n&&t}function Ve(e,t,n){var r=[];if(t(e)){r.push(e);for(var o=Pe(e,n);!1!==o&&t(o);)r.push(o),o=Pe(o,n)}return r}function Ge(e,t){for(var n=e.querySelectorAll("p,h1,h2,h3,h4,h5,h6"),r=[],o=0;o<n.length;){var i=n[o],a=Ve(i,t,!0);1<a.length?(r.push(i),o=-1===(a=function(e,t){for(var n=-1,r=0;r<e.length;r++)if(e[r]===t){n=r;break}return n}(n,a[a.length-1]))?o+1:a):(p(i.firstChild)&&1<Ve(i.firstChild,t,!1).length&&r.push(i),o++)}return r}function Le(e){return p(null===(e=e.textContent)||void 0===e?void 0:e.match(/^\s{0,}([a-z1-9]|i+)\s{0,}[.)-]/gim))}function Be(e){return p(null===(e=e.textContent)||void 0===e?void 0:e.match(/^\s{0,}(\*|-)\s{0,}/gim))}function Ue(e,t){for(var n=fn(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}}function Fe(n){return function(e,t){n[t]=e}}function je(e,t){var n,r,o,i={},a={};return n=t,r=Fe(i),o=Fe(a),Ue(e,function(e,t){(n(e,t)?r:o)(e,t)}),{t:i,f:a}}function ze(e){return n=function(e){return e},r=[],Ue(e,function(e,t){r.push(n(e,t))}),r;var n,r}function Ke(e,t){return dn.call(e,t)}function Ye(e,t,n){!function(e,t,n){if(!(q(n)||P(n)||L(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}(e.dom,t,n)}function $e(e,t){return null===(t=e.dom.getAttribute(t))?void 0:t}function Je(e,t){return M.from($e(e,t))}function Qe(e,t){e.dom.removeAttribute(t)}function Xe(e,t){var n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||Ne(e)?r:pn(n,t)}function Ze(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}}function et(e){function t(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}var n=e.red/255,r=e.green/255,e=e.blue/255;return.2126*t(n)+.7152*t(r)+.0722*t(e)}function tt(e,t){var n=e.alpha+t.alpha*(1-e.alpha),r=(e.red*e.alpha+t.red*t.alpha*(1-e.alpha))/n,o=(e.green*e.alpha+t.green*t.alpha*(1-e.alpha))/n,e=(e.blue*e.alpha+t.blue*t.alpha*(1-e.alpha))/n;return Ze(Math.ceil(r),Math.ceil(o),Math.ceil(e),n)}function nt(e){function t(e,t,n,r){return e=parseInt(e,10),t=parseInt(t,10),n=parseInt(n,10),r=parseFloat(r),M.some(Ze(e,t,n,r))}if("transparent"===e)return t("0","0","0","0");var n=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/.exec(e);return null!==n?t(n[1],n[2],n[3],"1"):null!==(e=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/.exec(e))?t(e[1],e[2],e[3],e[4]):M.none()}function rt(e,t){return(e=parseFloat(Xe(e,"opacity")))<1?Ze(t.red,t.green,t.blue,t.alpha*e):t}function ot(e){var t=ae(e),n=me(t),e=[e].concat(function(e,t){for(var n=G(t)?t:u,r=e.dom,o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=Q.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o}(e,function(e){return te(e,n)}));return(e=m(e,function(t,n){if(1===t.alpha)return t;var e=Xe(n,"background-color");return nt(e).bind(function(e){e=rt(n,e);return 0<e.alpha?M.some(tt(t,e)):M.none()}).getOr(t)},Ze(0,0,0,0))).alpha<1?tt(e,Ze(255,255,255,1)):e}function it(e,t){return mn(e).filter(function(e){return e<t}).isSome()}function at(e){var t=Xe(e,"font-size"),e=new RegExp(".*px").test(t),t=/(\d*\.?\d*)(.*)/.exec(t);return e&&null!==t?M.some(Number(t[1])):M.none()}function ut(e){var t,n="bold"===(t=Xe(e,"font-weight"))||"bolder"===t||!!/^[0-9]*$/.test(r=t)&&700<=parseInt(r,10),r=ae(e),r=me(r),o=at(r);return at(e).fold(u,function(t){return o.fold(function(){return 24<=t||n&&19<=t},function(e){return 1.5*e<=t||n&&1.2*e<=t})})}function ct(e,t){return 0===e.querySelectorAll(t).length}function lt(e){var t=e.getParam("a11y_advanced_options",!1,"boolean");return e.getParam("a11ychecker_allow_decorative_images",t,"boolean")}function st(e,t){var n=5===t?"":"-"+t+"x",r=5<=t?"premium/":"";return e.getParam("a11ychecker_issue_url_callback",function(e){return"https://www.tiny.cloud/docs"+n+"/plugins/"+r+"a11ychecker/#"+e},"function")}function ft(e){return An[e]}function dt(e){return Array.isArray(e)?Tn.translate([ft(e[0])].concat(e.slice(1))):Tn.translate(An[e])}function pt(t,n){ue(t).each(function(e){e.dom.insertBefore(n.dom,t.dom)})}function mt(e,t){var n;(n=e,M.from(n.dom.nextSibling).map(Q.fromDom)).fold(function(){ue(e).each(function(e){In(e,t)})},function(e){pt(e,t)})}function ht(t,e){w(e,function(e){In(t,e)})}function yt(e){var t,n=se(e);0<n.length&&(t=e,w(n,function(e){pt(t,e)})),Cn(e)}function vt(){var e;ye(_n).isSome()&&(e=N("head").getOrDie("Head element could not be found."),e=be(e,_n).getOrDie("The style element could not be removed"),Cn(e))}function gt(e,t,n){Ye(e,t,n)}function bt(a){var n=a.editor;return{start:function(e){var n,t,r,o,i;e=e,n=a.violation,t=a.current,r=a.info,o=a.warn,i=a.error,w(e,function(t){var e=Nn(t.severity,r,o,i).toArray().concat([n]);w(e,function(e){Ye(t.element,e,1)})}),M.from(e[0]).each(function(e){gt(e.element,t,e.severity)})},moveTo:function(e,t){!function(e,t,n,r){e=Ee(e,"["+t+"]");w(e,function(e){Qe(e,t)}),gt(n,t,r)}(Q.fromDom(n.getBody()),a.current,e,t)},stop:function(){!function(e,n,r,o,i,a){e=Ee(e,"["+n+"]");w(e,function(t){w([n,r,o,i,a],function(e){Qe(t,e)}),Rn(t,n,r)})}(Q.fromDom(n.getBody()),a.violation,a.current,a.info,a.warn,a.error)},exclude:function(e){Rn(e,a.violation,a.current)}}}function wt(e){var t=function(e){e=e.getParam("a11ychecker_ignored_rules","","string");return A(tinymce.explode(e),function(e){return 0<e.length?[e.toUpperCase()]:[]})}(e),n=function(e){e=e.getParam("a11ychecker_level","","string");return v(kn,e)?e:Y()}(e),r=function(e){e=e.getParam("a11ychecker_html_version","","string");return v(Dn,e)?e:j()}(e),o=xn.all().slice();return{rules:x(o,function(e){return!v(t,e.id.toUpperCase())&&v(e.levels,n)&&v(e.htmlversions,r)}),allowDecorativeImages:lt(e),ignoreSelectors:["img[data-mce-placeholder]","[data-mce-bogus=all] *","[data-mce-bogus]"]}}function xt(e){return{id:e.id.toUpperCase(),severity:e.severity,url:e.url,description:dt(e.description),element:e.element.dom}}function kt(r){var t,e=wt(r);function o(){var n,e=l.audit(r.getBody()),e=(n=r,b(e,function(e){var t=e.rule;return{id:t.id.toUpperCase(),description:"I1"!==t.id?t.desckey:lt(n)?t.desckey+".decorativeAllowed":t.desckey+".decorativeNotAllowed",element:Q.fromDom(e.element),url:t.url,severity:t.severity}}));return x(e,function(e){var t=e.element,n=Je(t,f).map(function(e){return e.split(" ")}).getOr([]),t=r.getParam("a11ychecker_filter_issue",y,"function");return!v(n,e.id)&&t(xt(e))})}function n(e){return p=(p+=e)<0?p+d.length:p%d.length,s.moveTo(d[p].element,d[p].severity),r.selection.scrollIntoView(d[p].element.dom),{summaryLabel:dt(["a11y.widget.counter",p+1,d.length]),issue:d[p],index:p+1}}function i(){return 0<d.length?M.some(n(0)):M.none()}function a(){c.set(!0),d=o(),p=0}(t=r).on("init",function(){w([qn,On,Mn,Hn,Wn,Sn],function(e){t.serializer.addTempAttr(e)})});var u,c=h(!1),l=(u=e,{audit:function(e){return X(e,u)}}),s=bt({editor:r,violation:On,current:Sn,info:Mn,warn:Hn,error:Wn}),f=En(),d=[],p=0,m=function(){s.stop(),c.set(!1),p=0,d=[]};return{scan:function(){return a(),s.start(d),i()},stepIssue:n,getIssues:function(){return d.slice(0)},getCurrent:i,getReport:function(){var e=c.get();try{return e||a(),b(d,xt)}finally{e||m()}},resolveCurrent:function(e){var t,n,r;return e&&(t=d[p].element,n=f,r=d[p].id,e=Je(t,n).map(function(e){return e.concat(" ",r)}).getOr(r),Ye(t,n,e)),d=o(),i()},clear:m,isAuditing:function(){return c.get()}}}function Dt(c){function r(e,t,n){return Math.min(Math.max(e,t),n)}var l,t={},s=h(null),e=function(){var e,t,n=c.getBody();n&&l&&!0===l.state.get("visible")&&(e=c.inline?c.getElement():c.getContentAreaContainer(),"BODY"===(t=n).nodeName&&(t=t.parentNode),n=t.scrollHeight>t.clientHeight?-25:-10,l.moveRel(e,"tr-tr"),l.moveBy(n,10),t=10,n=(e=l).layoutRect(),e.moveTo(r(n.x,0,window.innerWidth-n.w),r(n.y,t,window.innerHeight-n.h-t)))};return{actions:t,open:function(){(l=tinymce.ui.Factory.create("window",{title:dt("a11y.widget.title"),spacing:5,padding:10,minWidth:300,layout:"flex",direction:"column",align:"stretch",items:[{type:"label",name:"index",text:"Index",padding:"0 0 5 0"},{type:"widget",classes:"widget infobox has-help",name:"description",onpostrender:function(e){e.control.getEl().innerHTML='<div role="presentation"></div><div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div>'},onclick:function(e){s.get()&&(e.stopPropagation(),e.preventDefault(),(e=s.get())&&window.open(e))}},{type:"container",layout:"flex",direction:"column",align:"stretch",name:"repairer",padding:"5 0 5 0",items:[]},{type:"label",name:"validation",hidden:!0,classes:"error"},{type:"container",name:"footer",layout:"flex",direction:"row",spacing:3,items:[{type:"button",name:"repair",text:dt("a11y.widget.legacyrepair"),onclick:"repair"},{type:"button",text:dt("a11y.widget.ignore"),onclick:"ignore"},{type:"spacer",flex:1},{type:"button",text:dt("a11y.widget.previous"),onclick:"prev"},{type:"button",text:dt("a11y.widget.next"),autofocus:!0,subtype:"primary",onclick:"next"}]},{type:"container",name:"closer",layout:"flex",direction:"row",hidden:!0,items:[{type:"spacer",flex:1},{type:"button",subtype:"primary",name:"close",text:"Close",onclick:function(){l.close()}}]}]})).on("submit",function(e){e.preventDefault(),t.repair()}),l.modal=!1,l.on("open",function(){e()}),l.on("close",function(){t.close()}),l.on("execute",function(e){t[e.action]()}),c.on("remove",function(){l&&l.close()}),l.renderTo().reflow(),l.moveTo(0,0)},close:function(){l&&(l.close(),l=null)},reposition:e,find:function(e){return l.find(e)},setIndexText:function(e){l.find("#index").show().text(e)},hideIndex:function(){l.find("#index").hide()},setDescriptionText:function(e,t,n){var r,o,i,a,u=l.find("#description")[0].show();r=t,(t=u).classes.remove("error"),t.classes.remove("warning"),t.classes.remove("success"),t.classes.add(r),s.set(n),u.getEl().firstChild.innerHTML='<div style="white-space:normal;">'+e+(n?'<button aria-label="Show specification details" role="button" style="display:inline;" tabindex="-1"><i class="mce-ico mce-i-help"></i><button>':"")+"</div>",u.updateLayoutRect(),u.reflow(),o=c,i=function(){u.getEl().lastChild.textContent=e},setTimeout(function(){o.removed||i()},a||0)},setRepairerChildren:function(e){var t=l.find("#repairer")[0];t.items().remove(),t.append(e),t.renderNew()},hideFooter:function(){l.find("#footer").hide()},showCloser:function(){var e=l.find("#closer")[0];e.show(),e.focus()},hideRepairer:function(){l.find("#repairer").hide()},showRepairer:function(){l.find("#repairer").show()},hideRepairButton:function(){l.find("#repair").hide()},showRepairButton:function(){l.find("#repair").show()},disableUi:function(e){l.find(e).disabled(!0)},enableUi:function(e){l.find(e).disabled(!1)},setValidationInformation:function(e){l.find("#validation").show().text(e)},hideValidation:function(){l.find("#validation").hide()},retrieveInputValue:function(e){return l.find("#"+e).value()}}}function Tt(e){return t=e,e=!0,Q.fromDom(t.dom.cloneNode(e));var t}function At(e,t,n){var r=ae(e),t=Q.fromTag(n[t],r.dom),r=se(e),r=b(r,Tt);return ht(t,r),r=Ee(t,"b,strong"),w(r,yt),pt(e,t),Cn(e),Gn.value(t)}function It(i){var a=I(le(i));return D(a,ie("a")).fold(function(){return Gn.error("Failed to find previous link")},function(e){for(var t=0,n=a;t<n.length;t++){var r=n[t];if(te(r,e))break;Ae(r)&&Cn(r)}var o=se(i);return ht(e,o),Cn(i),Gn.value(e)})}function Ct(t,e,n,r){return n=n[e],e="all"===n||"this"===n,"all"!==n&&"others"!==n||(n=$e(t,"id"),r=r.getBody(),r=Q.fromDom(r),n=Ee(r,'*[id="'+n+'"]'),n=x(n,function(e){return!te(e,t)}),w(n,function(e){Qe(e,"id")})),e&&Qe(t,"id"),Gn.value(t)}function _t(e,t){return Gn.error(t(e))}function Nt(e,t,n,r,o,i){return 0===t.length?_t(r,i):Ln(e,t,n,o,i)}function Rt(e){return e=e.split("/"),M.from(e.pop())}function St(e,t,n,r,o,i){var a=Je(e,"src").bind(Rt).getOr(""),u=n[t+"_textinput"];return n[t+"_checkbox"]?(Ye(t=e,"alt",""),Ye(t,"role","presentation"),Gn.value(t)):Nt(e,u,a,r,o,i).map(function(e){return Ye(e,"alt",u),"presentation"===$e(e,"role")&&Qe(e,"role"),e})}function Ot(e){return e.dom.textContent}function Mt(a,u,c,e,t,n){var r=$e(a,"summary");return Nt(a,c[u],r,e,t,n).map(function(e){var t,n,r,o,i=ge(a,"caption").fold(function(){return Q.fromTag("caption")},function(e){var t;return(t=e).dom.textContent="",w(se(t),function(e){Cn(e)}),e});return t=i,n=c[u],t.dom.textContent=n,o=i,fe(r=e).fold(function(){In(r,o)},function(e){r.dom.insertBefore(o.dom,e.dom)}),e})}function Ht(t,n,r,e,o,i){var a=be(t,"caption").filter(oe).map(Ot).getOr("");return Nt(t,r[n],a,e,o,i).map(function(e){return Ye(t,"summary",r[n]),e})}function Wt(e,t,n){var r,o=[];return"row"===n[t]?(r=Q.fromDom(e.dom.rows[0]),o=qe(r,"td")):"col"===n[t]&&w(e.dom.rows,function(e){ge(Q.fromDom(e),"td").each(function(e){o.push(e)})}),w(o,function(e){var n=Q.fromTag("th");w(e.dom.attributes,function(t){Je(e,t.name).each(function(e){return Ye(n,t.name,e)})}),n.dom.innerHTML=e.dom.innerHTML,mt(e,n),Cn(e)}),Gn.value(e)}function qt(e,t,n){return Ye(e,"scope",n[t]),Gn.value(e)}function Et(e,t){return{type:"label",forName:e,text:t}}function Pt(e,t,n){return{type:"listbox",name:e,values:b(t,function(e){return{text:n(e.text),value:e.value}})}}function Vt(e,t){return{type:"textbox",name:e,value:t}}function Gt(e,t){var n="#"+(e=e.id)+"_textinput",r=t.find(n)[0],o="#"+e+"_checkbox",i=t.find(o)[0],e=function(){!0===i.value()?(t.disableUi(n),t.enableUi("#repair")):(t.enableUi(n),0<r.value().length?(t.enableUi("#repair"),t.enableUi(o)):(t.enableUi(o),t.disableUi("#repair")))};r.on("input",e),i.on("change",e),e()}function Lt(e,t,n,r){var o,r=Je(r,"alt").getOr(""),r=[Et(t+"_textinput_label",n((o="a11y.i1.repair.info",e?o+".decorativeAllowed":o+".decorativeNotAllowed"))),Vt(t+"_textinput",r)];return e?T([[Et(t+"_checkbox_label",n("a11y.i1.repair.checkboxlabel")),{type:"checkbox",name:t+"_checkbox",text:n("a11y.i1.repair.checkboxtext")}],r]):r}function Bt(e,t,n,r,o){var i=((i={})[r+"_textinput"]=t.retrieveInputValue(r+"_textinput"),i),a=e?((a={})[r+"_checkbox"]=t.retrieveInputValue(r+"_checkbox"),a):{},a=Z(Z({},i),a);return St(n,r,a,"a11y.i1.repair.errors.empty","a11y.i1.repair.errors.duplicate",o)}function Ut(r,o){function i(){a&&a.reposition()}var a,u,c,l=st(r,4),s=(c=lt(u=r),{H93:M.some({ui:M.some(function(e,t){return[Et("H93_selectbox_label",e("a11y.h93.repair.info")),Pt("H93_selectbox",[{text:"a11y.h93.repair.deduplicate.others",value:"others"},{text:"a11y.h93.repair.deduplicate.this",value:"this"},{text:"a11y.h93.repair.deduplicate.all",value:"all"}],e)]}),repair:function(e,t,n,r){n=n.retrieveInputValue("H93_selectbox");return Ct(e,t,{H93:n},u)},handler:M.none()}),I1:M.some({ui:M.some(function(e,t){return Lt(c,"I1",e,t)}),repair:function(e,t,n,r){return Bt(c,n,e,t,r)},handler:c?M.some(Gt):M.none()}),I2:M.some({ui:M.some(function(e,t){return Lt(c,"I2",e,t)}),repair:function(e,t,n,r){return Bt(c,n,e,t,r)},handler:c?M.some(Gt):M.none()}),T1:M.some({ui:M.some(function(e,t){return[Et("table-caption",e("a11y.t1.repair.info")),Vt("table-caption","")]}),repair:function(e,t,n,r){n=n.retrieveInputValue("table-caption");return Mt(e,t,{T1:n},"a11y.t1.repair.errors.empty","a11y.t1.repair.errors.duplicate",r)},handler:M.none()}),T2:M.some({ui:M.some(function(e,t){return[Et("table-summary",e("a11y.t2.repair.info")),Vt("table-summary","")]}),repair:function(e,t,n,r){n=n.retrieveInputValue("table-summary");return Ht(e,t,{T2:n},"a11y.t2.repair.errors.empty","a11y.t2.repair.errors.duplicate",r)},handler:M.none()}),T3:M.some({ui:M.some(function(e,t){t=ge(t,"caption").fold(g(""),function(e){return e.dom.innerHTML});return[Et("table-caption",e("a11y.t1.repair.info")),Vt("table-caption",t)]}),repair:function(e,t,n,r){n=n.retrieveInputValue("table-caption");return Mt(e,t,{T3:n},"a11y.t1.repair.errors.empty","a11y.t1.repair.errors.duplicate",r)},handler:M.none()}),T4A:M.none(),T4B:M.some({ui:M.some(function(e,t){return[Et("table-headers",e("a11y.t4b.repair.info")),Pt("table-headers",[{text:"a11y.t4c.repair.header.row",value:"row"},{text:"a11y.t4c.repair.header.col",value:"col"}],e)]}),repair:function(e,t,n,r){n=n.retrieveInputValue("table-headers");return Wt(e,t,{T4B:n})},handler:M.none()}),T4C:M.some({ui:M.some(function(e,t){return[Et("scope-type",e("a11y.t4c.repair.info")),Pt("scope-type",[{text:"a11y.t4c.repair.scope.row",value:"row"},{text:"a11y.t4c.repair.scope.col",value:"col"},{text:"a11y.t4c.repair.scope.rowgroup",value:"rowgroup"},{text:"a11y.t4c.repair.scope.colgroup",value:"colgroup"}],e)]}),repair:function(e,t,n,r){n=n.retrieveInputValue("scope-type");return qt(e,t,{T4C:n})},handler:M.none()}),D1:M.some({ui:M.some(function(e,t){return[Et("heading-type",e("a11y.d1.repair.info")),Pt("heading-type",[{text:"a11y.d1.repair.block.h1",value:"h1"},{text:"a11y.d1.repair.block.h2",value:"h2"},{text:"a11y.d1.repair.block.h3",value:"h3"},{text:"a11y.d1.repair.block.h4",value:"h4"},{text:"a11y.d1.repair.block.h5",value:"h5"},{text:"a11y.d1.repair.block.h6",value:"h6"}],e)]}),repair:function(e,t,n,r){n=n.retrieveInputValue("heading-type");return At(e,t,{D1:n})},handler:M.none()}),D2:M.none(),D3:M.some({ui:M.none(),repair:function(e,t,n,r){return It(e)},handler:M.none()})}),e=function(){n(),o.scan().fold(function(){return p()},function(e){return f(e.issue,e.index)})},t=function(){a&&a.close()},n=function(){(a=Dt(r)).actions.close=function(){o.clear()},a.actions.ignore=function(){d(!0)},a.actions.prev=y,a.actions.next=v,a.open()},f=function(t,e){a.hideValidation();var n=l(t.id);a.setIndexText(dt(["a11y.widget.counter",e,o.getIssues().length])),a.setDescriptionText(dt(t.description),t.severity,n),n=t.id,(void 0!==s[n]?s[n]:M.none()).fold(m,function(e){return h(e,t)}),i(),r.selection.scrollIntoView(t.element.dom)},d=function(e){o.resolveCurrent(e).fold(function(){return p()},function(e){f(e.issue,e.index)}),i()},p=function(){a.hideIndex(),a.hideRepairer(),a.hideValidation(),a.hideFooter(),a.showCloser(),a.setDescriptionText(dt("a11y.widget.issue.none"),"success",null)},m=function(){a.hideRepairer(),a.hideRepairButton()},h=function(e,t){e.ui.fold(m,function(e){a.setRepairerChildren(e(dt,t.element)),a.showRepairer()}),a.showRepairButton(),e.handler.each(function(e){return e(t,a)}),a.actions.repair=function(){r.undoManager.transact(function(){e.repair(t.element,t.id,a,dt).fold(function(e){a.setValidationInformation(e),i()},function(){return d(!1)})})}},y=function(){var e=o.stepIssue(-1);f(e.issue,e.index)},v=function(){var e=o.stepIssue(1);f(e.issue,e.index)};return{toggleAuditing:function(){(o.isAuditing()?t:e)()},startAuditing:e,stopAuditing:t,positionDialog:i}}function Ft(e,t){var n=t.ui.registry.getAll().icons;return M.from(n[e]).orThunk(function(){return M.from(n["temporary-placeholder"])}).getOr("!not found!")}function jt(e,t,n,r,o){var i=dt(n),t=dt(t);return'<div class="accessibility-issue__description"><div><div><div class="tox-icon">'+Ft("info"===n?"info":"warning",e)+"</div><h2>"+i+"</h2></div><p>"+t+"</p></div><div>"+function(e,t,n){n='<a href="'+n+'" title="'+dt("a11y.widget.help.title")+'" class="tox-button tox-button--naked tox-button--icon" target="_blank" data-alloy-tabstop="true" tabindex="-1"><div class="tox-icon">'+Ft(e,t)+"</div></a>";return"help"===e?n:'<div class="tox-icon">'+Ft(e,t)+"</div>"}(r,e,o)+"</div></div>"}function zt(e,t,n,r){return{type:"selectbox",label:t,name:e,items:b(n,function(e){return{text:r(e.text),value:e.value}})}}function Kt(e,t){return{type:"input",name:e,label:t}}function Yt(e,t){return{title:dt("a11y.widget.title"),body:{type:"panel",items:[{type:"panel",classes:["tox-accessibility-issue","accessibility-issue--success"],items:[{type:"htmlpanel",html:jt(e,"a11y.widget.issue.none","success","checkmark"),presets:"presentation"}]}]},buttons:[{type:"submit",name:"ok",text:"OK",primary:!0}],onSubmit:function(e){return e.close()},onClose:t}}function $t(e,t,n){e.redial(t),e.focus(n)}var Jt,Qt,Xt,Zt,en,tn=(Jt=Ae,Qt="text",{get:function(e){if(!Jt(e))throw new Error("Can only get "+Qt+" value of a "+Qt+" node");return Xt(e).getOr("")},getOption:Xt=function(e){return Jt(e)?M.from(e.dom.nodeValue):M.none()},set:function(e,t){if(!Jt(e))throw new Error("Can only set raw "+Qt+" value of a "+Qt+" node");e.dom.nodeValue=t}}),nn=function(e){return he(e,function(e){return Ae(e)&&ee(Oe(e).trim())})},rn="strong,b",on=function(e,t){return nn(e).fold(function(){return function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0}(se(e),function(e){return on(e,t)})},function(e){return We(e,t)})},an={id:"D1",wcag:"1.3.1",severity:Se(),desckey:"a11y.d1.description",url:"https://www.w3.org/WAI/WCAG21/Techniques/html/H42.html",walkable:!0,check:function(e){var t=Q.fromDom(e);return!(!we(e,"p")||!be(t,rn).isSome())&&on(t,t)},levels:[K(),Y(),$()],htmlversions:[j(),z()]},un={id:"D2",wcag:"1.3.1",severity:Re(),desckey:"a11y.d2.description",url:"https://www.w3.org/WAI/WCAG21/Techniques/general/G141.html",walkable:!1,check:function(e){var n,e=e.querySelectorAll("h1, h2, h3, h4, h5, h6"),r=[];return w(e,function(e){var t=parseInt(e.tagName.slice(1),10);n&&1<t-n&&r.push(e),n=t}),r},levels:[K(),Y(),$()],htmlversions:[j(),z()]},cn={id:"D3",wcag:"2.4.4",severity:Re(),desckey:"a11y.d3.description",url:"https://www.w3.org/WAI/WCAG21/Techniques/html/H2.html",walkable:!1,check:function(e){e=Q.fromDom(e),e=Ee(e,"a + a"),e=x(e,function(t){var e=I(le(t));return k(e,ie("a"),function(e){return!He(e)}).exists(function(e){return e.dom.href===t.dom.href})});return b(e,function(e){return e.dom})},levels:[K(),Y(),$()],htmlversions:[j(),z()]},ln={id:"D4o",wcag:"1.3.1",severity:Re(),desckey:"a11y.d4.description",url:"https://www.w3.org/WAI/WCAG21/Techniques/html/H48.html",walkable:!1,check:function(e){return Ge(e,Le)},levels:[K(),Y(),$()],htmlversions:[j(),z()]},sn={id:"D4u",wcag:"1.3.1",severity:Re(),desckey:"a11y.d4.description",url:"https://www.w3.org/WAI/WCAG21/Techniques/html/H48.html",walkable:!1,check:function(e){return Ge(e,Be)},levels:[K(),Y(),$()],htmlversions:[j(),z()]},fn=Object.keys,dn=Object.hasOwnProperty,pn=function(e,t){return void 0!==(n=e).style&&G(n.style.getPropertyValue)?e.style.getPropertyValue(t):"";var n},mn=function(e){var t,n,r=ot(e);return n=r,e=Xe(t=e,"color"),nt(e).bind(function(e){e=rt(t,e),e=e.alpha<1?tt(e,n):e;return M.some(e)}).map(function(e){var t=et(r),e=et(e);return e=e,t=t,(Math.max(e,t)+.05)/(Math.min(e,t)+.05)})},hn={id:"D5c",wcag:"1.4.3",severity:Re(),desckey:"a11y.d5c.description",url:"https://www.w3.org/WAI/WCAG21/Techniques/general/G17.html",walkable:!0,check:function(e){e=Q.fromDom(e);return Me(e)&&it(e,7)},levels:[$()],htmlversions:[j(),z()]},yn={id:"D5a",wcag:"1.4.3",severity:Re(),desckey:"a11y.d5a.description",url:"https://www.w3.org/WAI/WCAG21/Techniques/general/G145.html",walkable:!0,check:function(e){e=Q.fromDom(e);return Me(e)&&ut(e)&&it(e,3)},levels:[Y()],htmlversions:[j(),z()]},vn={id:"D5b",wcag:"1.4.3",severity:Re(),desckey:"a11y.d5b.description",url:"https://www.w3.org/WAI/WCAG21/Techniques/general/G18.html",walkable:!0,check:function(e){e=Q.fromDom(e);return Me(e)&&!ut(e)&&it(e,4.5)},levels:[Y()],htmlversions:[j(),z()]},gn={id:"H93",wcag:"4.1.1",severity:Re(),desckey:"a11y.h93.description",url:"https://www.w3.org/WAI/WCAG21/Techniques/html/H93.html",walkable:!1,check:function(e){e=Q.fromDom(e),e=Ee(e,"*[id]"),e=m(e,function(e,t){var n,r=$e(t,"id");if(void 0===r)return e;if(Ke(e.problems,r))return e;if(Ke(e.ids,r)){var o=e.ids[r];return Z(Z({},e),{problems:Z(Z({},e.problems),((n={})[r]=o,n))})}return Z(Z({},e),{ids:Z(Z({},e.ids),((e={})[r]=t.dom,e))})},{ids:{},problems:{}});return ze(e.problems)},levels:[K(),Y(),$()],htmlversions:[j(),z()]},bn={id:"I1",wcag:"1.1.1",severity:Re(),desckey:"a11y.i1.description",url:"https://www.w3.org/WAI/WCAG21/Techniques/general/G95.html",walkable:!0,check:function(e,t){var n=e.hasAttribute("alt"),r=n&&""===e.getAttribute("alt").trim(),o=e.hasAttribute("role")&&"presentation"===e.getAttribute("role");return we(e,"img")&&(!n||(t?n&&r&&!o||n&&!r&&o:r||o))},levels:[K(),Y(),$()],htmlversions:[j(),z()]},wn={id:"I2",wcag:"1.1.1",severity:Re(),desckey:"a11y.i2.description",url:"https://www.w3.org/WAI/WCAG21/Techniques/general/G95.html",walkable:!0,check:function(e){return we(e,"img[alt][src]")&&e.src.split("/").pop()===e.alt.split("/").pop()},levels:[K(),Y(),$()],htmlversions:[j(),z()]},t={id:"T1",wcag:"1.3.1",severity:Re(),desckey:"a11y.t1.description",url:"https://www.w3.org/WAI/WCAG21/Techniques/html/H39.html",walkable:!0,check:function(e){if(we(e,"table")){e=e.querySelector("caption");return!e||we(e,":empty")}return!1},levels:[K(),Y(),$()],htmlversions:[j(),z()]},H={id:"T2",wcag:"1.3.1",severity:Se(),desckey:"a11y.t2.description",url:"https://www.w3.org/WAI/WCAG21/Techniques/html/H73.html",walkable:!0,check:function(e){return we(e,"table")&&p(e.querySelector("[rowspan]")||e.querySelector("[colspan]"))&&!e.hasAttribute("summary")},levels:[K(),Y(),$()],htmlversions:[j()]},W={id:"T3",wcag:"1.3.1",severity:Re(),desckey:"a11y.t3.description",url:"https://www.w3.org/WAI/WCAG21/Techniques/html/H73.html",walkable:!0,check:function(e){if(we(e,"table")&&e.hasAttribute("summary")){var t=e.querySelectorAll("caption");return 0<t.length&&e.getAttribute("summary")===t[0].innerHTML}return!1},levels:[K(),Y(),$()],htmlversions:[j(),z()]},De={id:"T4b",wcag:"1.3.1",severity:Re(),desckey:"a11y.t4b.description",url:"https://www.w3.org/WAI/WCAG21/Techniques/html/H51.html",walkable:!0,check:function(e){return"table"===e.nodeName.toLowerCase()&&0===e.querySelectorAll("th").length},levels:[K(),Y(),$()],htmlversions:[j(),z()]},Se={id:"T4c",wcag:"1.3.1",severity:Re(),desckey:"a11y.t4c.description",url:"https://www.w3.org/WAI/WCAG21/Techniques/html/H63.html",walkable:!0,check:function(e){return"th"===e.nodeName.toLowerCase()&&(!(e=e).hasAttribute("scope")||!/row|col|rowgroup|colgroup/i.test(e.getAttribute("scope")))},levels:[K(),Y(),$()],htmlversions:[j(),z()]},Re={id:"T4a",wcag:"1.3.1",severity:Re(),desckey:"a11y.t4a.description",url:"https://www.w3.org/WAI/WCAG21/Techniques/html/H51.html",walkable:!0,check:function(e){return"table"===e.nodeName.toLowerCase()&&(ct(e=e,"tr")||ct(e,"td"))},levels:[K(),Y(),$()],htmlversions:[j(),z()]},xn={all:g([an,un,cn,ln,sn,yn,vn,hn,gn,bn,wn,t,H,W,Se,Re,De])},kn=[K(),Y(),$()],Dn=[j(),z()],Tn=tinymce.util.I18n,An={"a11y.d1.description":"This paragraph looks like a heading. If it is a heading, please select a heading level.","a11y.d1.repair.block.h1":"Heading 1","a11y.d1.repair.block.h2":"Heading 2","a11y.d1.repair.block.h3":"Heading 3","a11y.d1.repair.block.h4":"Heading 4","a11y.d1.repair.block.h5":"Heading 5","a11y.d1.repair.block.h6":"Heading 6","a11y.d1.repair.info":"Select a heading level:","a11y.d2.description":"Headings must be applied in sequential order. For example: Heading 1 should be followed by Heading 2, not Heading 3.","a11y.d3.description":"Adjacent links with the same URL should be merged into one link","a11y.d4.description":"The selected text appears to be a list. Lists should be formatted using a list tag.","a11y.d5a.description":"Large text must have a contrast ratio of at least 3:1","a11y.d5b.description":"Text must have a contrast ratio of at least 4.5:1","a11y.d5c.description":"Text must have a contrast ratio of at least 7:1","a11y.h93.description":"ID attribute must be unique","a11y.h93.repair.info":"Make ID unique","a11y.h93.repair.deduplicate.others":"Keep this ID and remove all others","a11y.h93.repair.deduplicate.this":"Remove this ID","a11y.h93.repair.deduplicate.all":"Remove all IDs","a11y.i1.description.decorativeAllowed":"Images must be marked as decorative or have an alternative text description","a11y.i1.description.decorativeNotAllowed":"Images must have an alternative text description. Decorative images are not allowed.","a11y.i1.repair.errors.duplicate":"Alternative text cannot be the same as the filename","a11y.i1.repair.errors.empty":"Alternative text cannot be empty","a11y.i1.repair.info.decorativeAllowed":"Or provide alternative text:","a11y.i1.repair.info.decorativeNotAllowed":"Provide alternative text:","a11y.i1.repair.checkboxlabel":"Make image decorative:","a11y.i1.repair.checkboxtext":"Image is decorative","a11y.i2.description":"Alternative text must not be the same as the image filename","a11y.i2.repair.info":"Provide alternative text:","a11y.t1.description":"Tables must have captions","a11y.t1.repair.errors.duplicate":"Table caption cannot be the same as the table summary","a11y.t1.repair.errors.empty":"Caption cannot be empty","a11y.t1.repair.info":"Provide caption:","a11y.t2.description":"Complex tables should have summaries","a11y.t2.repair.errors.duplicate":"Table summary cannot be the same as the table caption","a11y.t2.repair.errors.empty":"Summary cannot be empty","a11y.t2.repair.info":"Provide table summary:","a11y.t3.description":"Table caption and summary cannot have the same value","a11y.t4a.description":"Table elements must contain TR and TD tags","a11y.t4b.description":"Tables must have at least one header cell","a11y.t4b.repair.info":"Choose table header:","a11y.t4c.description":"Table headers must be applied to a row or a column","a11y.t4c.repair.header.col":"Header Column","a11y.t4c.repair.header.row":"Header Row","a11y.t4c.repair.info":"Select header scope:","a11y.t4c.repair.scope.col":"Column","a11y.t4c.repair.scope.colgroup":"Column Group","a11y.t4c.repair.scope.row":"Row","a11y.t4c.repair.scope.rowgroup":"Row Group","a11y.widget.counter":"Issue {0} of {1}","a11y.widget.ignore":"Ignore","a11y.widget.issue.none":"No accessibility issues detected","a11y.widget.next":"Next issue","a11y.widget.previous":"Previous issue","a11y.widget.legacyrepair":"Repair issue","a11y.widget.repair":"Repair","a11y.widget.title":"Accessibility Checker","a11y.widget.help.title":"Click for more info",error:"Error",warning:"Warning",info:"Info",success:"Success"},In=function(e,t){e.dom.appendChild(t.dom)},Cn=function(e){e=e.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},z=(Zt="ephox-foam".replace(/\./g,"-"),{resolve:function(e){return Zt+"-"+e}}),_n="#"+z.resolve("styles"),z=z.resolve,Nn=function(e,t,n,r){switch(e){case"info":return M.some(t);case"warning":return M.some(n);case"error":return M.some(r);default:return M.none()}},Rn=function(e,t,n){Qe(e,t),Qe(e,n)},Sn="data-"+z("a11y-current-violation"),On="data-"+z("a11y-violation"),Mn="data-"+z("a11y-severity-info"),Hn="data-"+z("a11y-severity-warn"),Wn="data-"+z("a11y-severity-error"),qn="data-"+z("accessibility-ignore"),En=g(qn),Pn=function(n){return{is:function(e){return n===e},isValue:y,isError:u,getOr:g(n),getOrThunk:g(n),getOrDie:g(n),or:function(e){return Pn(n)},orThunk:function(e){return Pn(n)},fold:function(e,t){return t(n)},map:function(e){return Pn(e(n))},mapError:function(e){return Pn(n)},each:function(e){e(n)},bind:function(e){return e(n)},exists:function(e){return e(n)},forall:function(e){return e(n)},toOptional:function(){return M.some(n)}}},Vn=function(n){return{is:u,isValue:u,isError:y,getOr:e,getOrThunk:function(e){return e()},getOrDie:function(){return e=String(n),function(){throw new Error(e)}();var e},or:function(e){return e},orThunk:function(e){return e()},fold:function(e,t){return e(n)},map:function(e){return Vn(n)},mapError:function(e){return Vn(e(n))},each:i,bind:function(e){return Vn(n)},exists:u,forall:y,toOptional:M.none}},Gn={value:Pn,error:Vn,fromOption:function(e,t){return e.fold(function(){return Vn(t)},Pn)}},Ln=function(e,t,n,r,o){return t===n?_t(r,o):Gn.value(e)};(z=en=en||{}).Next="next",z.Prev="prev",z.Ignore="ignore",z.Ok="ok",z.Repair="repair";function Bn(e){return e+"_checkbox"}function Un(e){return e+"_textinput"}function Fn(e,t){var n=t.id,t=!0===e[Bn(n)],n=0<e[Un(n)].length;return!t&&!n}function jn(e,t,n){var r=n.id,n=Bn(r),r=Un(r);!0===t[n]?(e.disable(r),e.enable(en.Repair)):(e.enable(r),0<t[r].length?(e.enable(en.Repair),e.enable(n)):(e.enable(n),e.disable(en.Repair)))}function zn(e,t){var n,r=Kt(Un(t),dt((n="a11y.i1.repair.info",e?n+".decorativeAllowed":n+".decorativeNotAllowed")));return e?[(n=Bn(t),e=dt("a11y.i1.repair.checkboxlabel"),t=dt("a11y.i1.repair.checkboxtext"),{type:"label",label:e,items:[{type:"checkbox",name:n,label:t}]}),r]:[r]}function Kn(e,t,n){var e=$e(e,"alt"),t=t?((r={})[Bn(n)]=!1,r):{},r=((r={})[Un(n)]=e||"",r);return Z(Z({},r),t)}function Yn(e,t){var n=Ut(e,t);return e.addButton("a11ycheck",{tooltip:dt("a11y.widget.title"),icon:"a11y",onclick:n.toggleAuditing}),e.addMenuItem("a11ycheck",{context:"tools",icon:"a11y",text:dt("a11y.widget.title"),onclick:n.toggleAuditing}),e.on("ResizeWindow",function(){!function(e,t){for(var n=window.requestAnimationFrame,r=["ms","moz","webkit"],o=0;o<r.length&&!n;o++)n=window[r[o]+"RequestAnimationFrame"];(n=n||function(e){setTimeout(e,0)})(e,t)}(function(){n.positionDialog()})}),e.on("ScrollWindow",function(){n.positionDialog()}),e.on("ResizeEditor",function(){n.positionDialog()}),e.on("click",function(){n.stopAuditing()}),e.on("keydown",function(){n.stopAuditing()}),n.toggleAuditing}function $n(l,s){function f(){d.set(M.none()),s.clear()}function e(){var t,n,r,o,i,a,u,c,e=(t=function(e){return l.windowManager.open(e,{inline:"toolbar",ariaAttrs:!0})},n=s,u=lt(a=l),c={H93:M.some({ui:M.some(function(e,t){var n;return{items:[zt(e,dt("a11y.h93.repair.info"),[{text:"a11y.h93.repair.deduplicate.others",value:"others"},{text:"a11y.h93.repair.deduplicate.this",value:"this"},{text:"a11y.h93.repair.deduplicate.all",value:"all"}],dt)],initialData:((n={})[e]="",n)}}),repair:function(e,t,n,r){a.undoManager.transact(function(){r(Ct(e,t,n,a))})},shouldDisableRepair:M.none(),onChange:M.none()}),I1:M.some({ui:M.some(function(e,t){return{items:zn(u,e),initialData:Kn(t,u,e)}}),repair:function(e,t,n,r){a.undoManager.transact(function(){r(St(e,t,n,"a11y.i1.repair.errors.empty","a11y.i1.repair.errors.duplicate",dt))})},shouldDisableRepair:u?M.some(Fn):M.none(),onChange:u?M.some(jn):M.none()}),I2:M.some({ui:M.some(function(e,t){return{items:zn(u,e),initialData:Kn(t,u,e)}}),repair:function(e,t,n,r){a.undoManager.transact(function(){r(St(e,t,n,"a11y.i1.repair.errors.empty","a11y.i1.repair.errors.duplicate",dt))})},shouldDisableRepair:u?M.some(Fn):M.none(),onChange:u?M.some(jn):M.none()}),T1:M.some({ui:M.some(function(e,t){var n;return{items:[Kt(e,dt("a11y.t1.repair.info"))],initialData:((n={})[e]="",n)}}),repair:function(e,t,n,r){a.undoManager.transact(function(){r(Mt(e,t,n,"a11y.t1.repair.errors.empty","a11y.t1.repair.errors.duplicate",dt))})},shouldDisableRepair:M.none(),onChange:M.none()}),T2:M.some({ui:M.some(function(e,t){var n;return{items:[Kt(e,dt("a11y.t2.repair.info"))],initialData:((n={})[e]="",n)}}),repair:function(e,t,n,r){a.undoManager.transact(function(){r(Ht(e,t,n,"a11y.t2.repair.errors.empty","a11y.t2.repair.errors.duplicate",dt))})},shouldDisableRepair:M.none(),onChange:M.none()}),T3:M.some({ui:M.some(function(e,t){var n=ge(t,"caption").fold(function(){return""},function(e){return e.dom.innerHTML});return{items:[Kt(e,dt("a11y.t1.repair.info"))],initialData:((t={})[e]=n,t)}}),repair:function(e,t,n,r){a.undoManager.transact(function(){r(Mt(e,t,n,"a11y.t1.repair.errors.empty","a11y.t1.repair.errors.duplicate",dt))})},shouldDisableRepair:M.none(),onChange:M.none()}),T4A:M.none(),T4B:M.some({ui:M.some(function(e,t){var n;return{items:[zt(e,dt("a11y.t4b.repair.info"),[{text:"a11y.t4c.repair.header.row",value:"row"},{text:"a11y.t4c.repair.header.col",value:"col"}],dt)],initialData:((n={})[e]="",n)}}),repair:function(e,t,n,r){a.undoManager.transact(function(){r(Wt(e,t,n))})},shouldDisableRepair:M.none(),onChange:M.none()}),T4C:M.some({ui:M.some(function(e,t){var n;return{items:[zt(e,dt("a11y.t4c.repair.info"),[{text:"a11y.t4c.repair.scope.row",value:"row"},{text:"a11y.t4c.repair.scope.col",value:"col"},{text:"a11y.t4c.repair.scope.rowgroup",value:"rowgroup"},{text:"a11y.t4c.repair.scope.colgroup",value:"colgroup"}],dt)],initialData:((n={})[e]="",n)}}),repair:function(e,t,n,r){a.undoManager.transact(function(){r(qt(e,t,n))})},shouldDisableRepair:M.none(),onChange:M.none()}),D1:M.some({ui:M.some(function(e,t){var n;return{items:[zt(e,dt("a11y.d1.repair.info"),[{text:"a11y.d1.repair.block.h1",value:"h1"},{text:"a11y.d1.repair.block.h2",value:"h2"},{text:"a11y.d1.repair.block.h3",value:"h3"},{text:"a11y.d1.repair.block.h4",value:"h4"},{text:"a11y.d1.repair.block.h5",value:"h5"},{text:"a11y.d1.repair.block.h6",value:"h6"}],dt)],initialData:((n={})[e]="",n)}}),repair:function(e,t,n,r){a.undoManager.transact(function(){r(At(e,t,n))})},shouldDisableRepair:M.none(),onChange:M.none()}),D2:M.none(),D3:M.some({ui:M.none(),repair:function(e,t,n,r){a.undoManager.transact(function(){r(It(e))})},shouldDisableRepair:M.none(),onChange:M.none()})},r=function(e){return c.hasOwnProperty(e)?c[e]:M.none()},o=l,i=f,n.scan().fold(function(){return t(Yt(o,i))},function(e){return t(Qn(e,n,r,M.none(),o,i))}));d.set(M.some(e))}function t(e){return e.close()}var d=h(M.none());return l.ui.registry.addButton("a11ycheck",{tooltip:dt("a11y.widget.title"),icon:"accessibility-check",onAction:e}),l.ui.registry.addMenuItem("a11ycheck",{icon:"accessibility-check",text:dt("a11y.widget.title"),onAction:e}),function(){return d.get().fold(e,t)}}function Jn(e,t){if(d(tinymce,"4.3.13"))return console.error('The "a11ychecker" plugin requires at least 4.3.13 version of TinyMCE.'),i;var n=kt(e),r=e.getParam("a11ychecker_css_url"),o=r||t+"/css/annotations.css",t=(d(tinymce,"5.0.0")?Yn:$n)(e,n);return e.on("init",function(){e.dom.loadCSS(o)}),e.on("remove",function(){1===tinymce.editors.length&&vt()}),{getReport:n.getReport,toggleaudit:t}}var Qn=function(e,u,o,i,c,l){function s(e){return Qn(e,u,o,M.none(),c,l)}function f(t,e){function n(e){$t(t,Qn({issue:d,summaryLabel:p},u,o,M.some(e),c,l),en.Repair)}function r(){return u.resolveCurrent(!1).fold(function(){return u.scan().fold(function(){return $t(t,Yt(c,l),en.Ok)},function(e){return $t(t,s(e),en.Ignore)})},function(e){return $t(t,s(e),en.Ignore)})}e.each(function(e){e.repair(d.element,d.id,je(t.getData(),function(e,t){return n=t,r=d.id,t=n,n=0,""===(r=r)||t.length>=r.length&&t.substr(n,n+r.length)===r;var n,r}).t,function(e){return e.fold(n,r)})})}function a(e,t,n){var r,o,i="warning"===(a=d.severity)?"warn":a,a=t.map(function(){return{type:"panel",classes:["accessibility-issue__repair"],items:t.map(function(e){return e.items}).getOr([])}}).toArray();return{title:dt("a11y.widget.title"),body:{type:"panel",classes:["tox-accessibility-issue","accessibility-issue--"+i],items:function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}([{type:"panel",classes:["accessibility-issue__header"],items:[{type:"htmlpanel",html:"<h1>"+p+"</h1>",presets:"presentation"},{type:"button",name:en.Prev,text:dt("a11y.widget.previous"),icon:"action-prev",borderless:!0},{type:"button",name:en.Next,text:dt("a11y.widget.next"),icon:"action-next",borderless:!0}]},{type:"htmlpanel",html:jt(c,d.description,d.severity,"help",m(d.id)),presets:"presentation"}],a)},buttons:[{type:"custom",name:en.Ignore,text:dt("a11y.widget.ignore")},{type:"custom",name:en.Repair,text:dt("a11y.widget.repair"),disabled:n,primary:!0}],initialData:Z({},t.map(function(e){return e.initialData}).getOr({})),onAction:function(t,e){var n=e.name;n===en.Next||n===en.Prev?(e=u.stepIssue(n===en.Next?1:-1),$t(t,s(e),n)):n===en.Ignore?u.resolveCurrent(!0).fold(function(){return $t(t,Yt(c,l),en.Ok)},function(e){return $t(t,s(e),en.Ignore)}):n===en.Repair&&f(t,o)},onChange:(r=o=e,function(t){return r.each(function(e){e.onChange.each(function(e){return e(t,t.getData(),d)}),e.shouldDisableRepair.each(function(e){e(t.getData(),d)?t.disable(en.Repair):t.enable(en.Repair)})})}),onClose:l}}var d=e.issue,p=e.summaryLabel,m=st(c,5);return o(d.id).fold(function(){return a(M.none(),M.none(),!0)},function(e){var n,r,o=(n=e,r=d,i.fold(function(){return n.ui.map(function(e){return e(r.id,r.element)})},function(t){return n.ui.map(function(e){e=e(r.id,r.element);return{items:e.items.concat([{type:"htmlpanel",html:'<div class="tox-form__group--error">'+t+"</div>"}]),initialData:e.initialData}})})),t=e.shouldDisableRepair.bind(function(t){return o.map(function(e){return t(e.initialData,d)})}).getOr(!1);return a(M.some(e),o,t)})};tinymce.PluginManager.requireLangPack("a11ychecker","ar,bg_BG,ca,cs,da,de,el,es,eu,fa,fi,fr_FR,he_IL,hr,hu_HU,id,it,ja,kk,ko_KR,nb_NO,nl,pl,pt_PT,pt_BR,ro,ru,sk,sl_SI,sv_SE,th_TH,tr,uk,zh_TW,zh_CN"),tinymce.PluginManager.add("a11ychecker",Jn)}();